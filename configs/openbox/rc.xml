<?xml version="1.0" encoding="UTF-8"?>
<openbox_config xmlns="http://openbox.org/3.4/rc" xmlns:xi="http://www.w3.org/2001/XInclude">

  <!-- THEME (Arc-Openbox must be installed system-wide) -->
  <theme>
    <name>Arc-Dark</name>
    <titleLayout>NLIMC</titleLayout>
    <keepBorder>yes</keepBorder>
    <animateIconify>yes</animateIconify>
    
<font place="ActiveWindow">
    <name>Ubuntu Sans</name>
    <size>11</size>
    <weight>Bold</weight>
    <slant>Normal</slant>
  </font>
  <font place="InactiveWindow">
    <name>Ubuntu Sans</name>
    <size>11</size>
    <weight>Normal</weight>
    <slant>Normal</slant>
  </font>
  <font place="MenuHeader">
    <name>Ubuntu Sans</name>
    <size>11</size>
    <weight>Normal</weight>
    <slant>Normal</slant>
  </font>
  <font place="MenuItem">
    <name>Ubuntu Sans</name>
    <size>12</size>
    <weight>Normal</weight>
    <slant>Normal</slant>
  </font>
  </theme>

  <!-- WORKSPACES -->
  <desktops>
    <number>4</number>
    <names><name>1</name><name>2</name><name>3</name><name>4</name></names>
    <popupTime>800</popupTime>
  </desktops>

  <!-- FOCUS / PLACEMENT / RESIZE UI (defaults retained) -->
  <focus>
    <focusNew>yes</focusNew>
    <followMouse>no</followMouse>
    <focusLast>yes</focusLast>
    <underMouse>no</underMouse>
    <raiseOnFocus>no</raiseOnFocus>
  </focus>
  <placement><policy>Smart</policy></placement>
  <resize><popupShow>Nonpixel</popupShow></resize>

  <!-- KEYBOARD: your requested changes/additions -->
  <keyboard>
    <!-- Ctrl+Super+Left/Right: previous/next desktop (NO WRAP) -->
    <keybind key="C-W-Left">
      <action name="DesktopPrevious">
        <wrap>no</wrap>
      </action>
    </keybind>
    <keybind key="C-W-Right">
      <action name="DesktopNext">
        <wrap>no</wrap>
      </action>
    </keybind>

    <!-- Alt+F4: close focused window -->
    <keybind key="A-F4">
      <action name="Close"/>
    </keybind>

    <!-- PrintScreen: scrot selection (drag to select area) -->
    <keybind key="Print">
      <action name="Execute">
        <command>scrot -s -q 100 ~/screenshot_area_%Y-%m-%d_%H-%M-%S.png</command>
      </action>
    </keybind>

    <!-- Win + Return: launch xterm -->
    <keybind key="W-Return">
      <action name="Execute"><command>xterm</command></action>
    </keybind>


   <!-- Super (Win) + Tab: cycle through windows -->
    <keybind key="A-Tab">
      <action name="NextWindow">
        <finalactions>
          <action name="Raise"/>
          <action name="Focus"/>
          <action name="Unshade"/>
        </finalactions>
      </action>
    </keybind>

  <!-- Half-Screen Snapping -->
  <keybind key="W-Left">
    <action name="UnmaximizeFull"/>
    <action name="MoveResizeTo">
      <x>0</x>
      <y>0</y>
      <width>50%</width>
      <height>100%</height>
    </action>
  </keybind>
  <keybind key="W-Right">
    <action name="UnmaximizeFull"/>
    <action name="MoveResizeTo">
      <x>50%</x>
      <y>0</y>
      <width>50%</width>
      <height>100%</height>
    </action>
  </keybind>

  <!-- Quarter-Screen Snapping (like your example) -->
  <keybind key="W-Up">
    <action name="UnmaximizeFull"/>
    <action name="MoveResizeTo">
      <x>0</x>
      <y>0</y>
      <width>50%</width>
      <height>50%</height>
    </action>
  </keybind>
  <keybind key="W-Down">
    <action name="UnmaximizeFull"/>
    <action name="MoveResizeTo">
      <x>50%</x>
      <y>50%</y>
      <width>50%</width>
      <height>50%</height>
    </action>
  </keybind>
  <keybind key="W-Prior">  <!-- PageUp (top-right quadrant) -->
    <action name="UnmaximizeFull"/>
    <action name="MoveResizeTo">
      <x>50%</x>
      <y>0</y>
      <width>50%</width>
      <height>50%</height>
    </action>
  </keybind>
  <keybind key="W-Next">   <!-- PageDown (bottom-left quadrant) -->
    <action name="UnmaximizeFull"/>
    <action name="MoveResizeTo">
      <x>0</x>
      <y>50%</y>
      <width>50%</width>
      <height>50%</height>
    </action>
  </keybind>
  </keyboard>
  
  <!-- MOUSE: keep defaults, but ensure desktop scroll does NOT wrap -->
<mouse>
  <dragThreshold>3</dragThreshold>
  <doubleClickTime>400</doubleClickTime>
  <screenEdgeWarpTime>0</screenEdgeWarpTime>
  <screenEdgeWarpMouse>false</screenEdgeWarpMouse>

  <!-- Window Frame (Borders) -->
  <context name="Frame">
    <mousebind button="A-Left" action="Drag"><action name="Move"/></mousebind>
    <mousebind button="A-Right" action="Drag"><action name="Resize"/></mousebind>
    <mousebind button="Middle" action="Press">
      <action name="Lower"/><action name="FocusToBottom"/><action name="Unfocus"/>
    </mousebind>
  </context>

  <!-- Titlebar -->
  <context name="Titlebar">
    <mousebind button="Left" action="Drag"><action name="Move"/></mousebind>
    <mousebind button="Left" action="DoubleClick"><action name="ToggleMaximize"/></mousebind>
    <mousebind button="Up" action="Click">
      <action name="if"><shaded>no</shaded><then><action name="Shade"/></then></action>
    </mousebind>
    <mousebind button="Down" action="Click">
      <action name="if"><shaded>yes</shaded><then><action name="Unshade"/></then></action>
    </mousebind>
  </context>

  <!-- Titlebar + Borders + Corners -->
  <context name="Titlebar Top Right Bottom Left TLCorner TRCorner BRCorner BLCorner">
    <mousebind button="Middle" action="Press">
      <action name="Lower"/><action name="FocusToBottom"/><action name="Unfocus"/>
    </mousebind>
    <mousebind button="Right" action="Press">
      <action name="ShowMenu"><menu>client-menu</menu></action>
    </mousebind>
  </context>

  <!-- Corners (Snapping) -->
  <context name="TRCorner BRCorner TLCorner BLCorner">
    <mousebind button="Left" action="Drag">
      <action name="Resize"/>
      <!-- Top-Left Corner -->
      <action name="if">
        <mouse screen="true" x="0%" y="0%" width="5%" height="5%"/>
        <then>
          <action name="UnmaximizeFull"/>
          <action name="MoveResizeTo"><x>0</x><y>0</y><width>50%</width><height>50%</height></action>
        </then>
      </action>
      <!-- Top-Right Corner -->
      <action name="if">
        <mouse screen="true" x="95%" y="0%" width="5%" height="5%"/>
        <then>
          <action name="UnmaximizeFull"/>
          <action name="MoveResizeTo"><x>50%</x><y>0</y><width>50%</width><height>50%</height></action>
        </then>
      </action>
      <!-- Bottom-Left Corner -->
      <action name="if">
        <mouse screen="true" x="0%" y="95%" width="5%" height="5%"/>
        <then>
          <action name="UnmaximizeFull"/>
          <action name="MoveResizeTo"><x>0</x><y>50%</y><width>50%</width><height>50%</height></action>
        </then>
      </action>
      <!-- Bottom-Right Corner -->
      <action name="if">
        <mouse screen="true" x="95%" y="95%" width="5%" height="5%"/>
        <then>
          <action name="UnmaximizeFull"/>
          <action name="MoveResizeTo"><x>50%</x><y>50%</y><width>50%</width><height>50%</height></action>
        </then>
      </action>
    </mousebind>
  </context>

  <!-- Edges -->
  <context name="Top"><mousebind button="Left" action="Drag"><action name="Resize"><edge>top</edge></action></mousebind></context>
  <context name="Left"><mousebind button="Left" action="Drag"><action name="Resize"><edge>left</edge></action></mousebind></context>
  <context name="Right"><mousebind button="Left" action="Drag"><action name="Resize"><edge>right</edge></action></mousebind></context>
  <context name="Bottom">
    <mousebind button="Left" action="Drag"><action name="Resize"><edge>bottom</edge></action></mousebind>
    <mousebind button="Right" action="Press"><action name="ShowMenu"><menu>client-menu</menu></action></mousebind>
  </context>

  <!-- Client Area -->
  <context name="Client">
    <mousebind button="Left" action="Press"><action name="Focus"/><action name="Raise"/></mousebind>
    <mousebind button="Middle" action="Press"><action name="Focus"/><action name="Raise"/></mousebind>
    <mousebind button="Right" action="Press"><action name="Focus"/><action name="Raise"/></mousebind>
  </context>

  <!-- Desktop -->
  <context name="Desktop">
    <mousebind button="Up" action="Click"><action name="GoToDesktop"><to>previous</to><wrap>no</wrap></action></mousebind>
    <mousebind button="Down" action="Click"><action name="GoToDesktop"><to>next</to><wrap>no</wrap></action></mousebind>
    <mousebind button="Left" action="Press"><action name="Focus"/><action name="Raise"/></mousebind>
  </context>

  <!-- Root Window -->
  <context name="Root">
    <mousebind button="Middle" action="Press"><action name="ShowMenu"><menu>client-list-combined-menu</menu></action></mousebind>
    <mousebind button="Right" action="Press"><action name="ShowMenu"><menu>root-menu</menu></action></mousebind>
  </context>

  <!-- Titlebar Buttons -->
  <context name="Shade">
    <mousebind button="Left" action="Click"><action name="ToggleShade"/></mousebind>
  </context>
  <context name="Maximize">
    <mousebind button="Left" action="Click"><action name="ToggleMaximize"/></mousebind>
    <mousebind button="Middle" action="Click"><action name="ToggleMaximize"><direction>vertical</direction></action></mousebind>
    <mousebind button="Right" action="Click"><action name="ToggleMaximize"><direction>horizontal</direction></action></mousebind>
  </context>
  <context name="Close">
    <mousebind button="Left" action="Click"><action name="Close"/></mousebind>
  </context>
</mouse>

    


  <!-- MENU FILE -->
  <menu>
    <file>menu.xml</file>
    <applicationIcons>no</applicationIcons>
  </menu>

</openbox_config>
